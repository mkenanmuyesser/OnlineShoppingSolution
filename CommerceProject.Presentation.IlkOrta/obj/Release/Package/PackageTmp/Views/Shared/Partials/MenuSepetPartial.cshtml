@using CommerceProject.Business.Entities

@{
    var sepettekiUrunler = ViewBag.Sepet as List<Sepet>;
}

<a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown">
    <div class="icon">
        <svg x="0" y="0" width="16px" height="16px" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve">
        <g>
        <path d="M15.001,4h-0.57l-3.707-3.707c-0.391-0.391-1.023-0.391-1.414,0c-0.391,0.391-0.391,1.023,0,1.414L11.603,4
						H4.43l2.293-2.293c0.391-0.391,0.391-1.023,0-1.414s-1.023-0.391-1.414,0L1.602,4H1C0.448,4,0,4.448,0,5s0.448,1,1,1
						c0,2.69,0,7.23,0,8c0,1.104,0.896,2,2,2h10c1.104,0,2-0.896,2-2c0-0.77,0-5.31,0-8c0.553,0,1-0.448,1-1S15.554,4,15.001,4z
						M13.001,14H3V6h10V14z"></path>
        <path d="M11.001,13c0.553,0,1-0.447,1-1V8c0-0.553-0.447-1-1-1s-1,0.447-1,1v4C10.001,12.553,10.448,13,11.001,13z"></path>
        <path d="M8,13c0.553,0,1-0.447,1-1V8c0-0.553-0.448-1-1-1S7,7.447,7,8v4C7,12.553,7.448,13,8,13z"></path>
        <path d="M5,13c0.553,0,1-0.447,1-1V8c0-0.553-0.447-1-1-1S4,7.447,4,8v4C4,12.553,4.448,13,5,13z"></path>
					 </g>
					</svg>
    </div>
    Sepet <span class="count">
        @if (sepettekiUrunler == null || !sepettekiUrunler.Any())
            {
            @Html.Raw("0,00")
        }
        else
        {
            @Html.Raw(string.Format("{0:N}", sepettekiUrunler.Sum(x => x.Adet * x.Urun.KdvDahilTutar)))
        }

        tl
    </span>

</a>

<div class="dropdown-menu" style="z-index: 1000;margin-right:0px;">
    @if (sepettekiUrunler == null || !sepettekiUrunler.Any())
    {
        <p class="pull-right">Sepetinizde ürün bulunmamaktadır.</p>
    }
    else
    {
        <p class="pull-right">Sepetinizde <strong>@sepettekiUrunler.Sum(x => x.Adet)</strong> adet ürün bulunmaktadır.</p>       

        <div class="cart-button">
            <button class="btn btn-default" onclick="window.location.href='/Sepet'">Sepete Git</button>
            <button class="btn checkout btn-default" onclick="window.location.href='/Sepet/Odeme'">Ödeme Yap</button>
        </div>
    }
</div>

